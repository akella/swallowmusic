!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="js/",e(e.s=1)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=new Array(t||0),n=t;if(arguments.length>1)for(var i=Array.prototype.slice.call(arguments,1);n--;)e[t-1-n]=r.apply(this,i);return e}function o(){E.clearRect(0,0,v,m),E.drawImage(P,0,0,v,m),d.getByteFrequencyData(y),console.log(y);var t=y.reduce(function(t,e){return t+e});t/=64,E.fillStyle="#ff0000",E.fillRect(0,0,2,t);for(var e=0;e<x;e++)for(var n=0;n<p;n++){E.strokeStyle="rgba(255,255,255,0.2)";var i=(0,h.default)(e/400,n/400,I/400),r=4*Math.PI*i,o=Math.cos(r)*g,a=Math.sin(r)*M;j[e][n]=[o*t/30,a*t/30],w&&(E.beginPath(),E.moveTo(e*g,n*M),E.lineTo(e*g+o,n*M+a),E.closePath(),E.stroke())}b.forEach(function(t){t.wind(j,k),t.move(k),t.draw(E,_)})}function a(){o(),I++,window.requestAnimationFrame(a)}var s=n(2),h=i(s),u=n(3),c=i(u),l=new Audio;l.controls=!0,l.autoplay=!0,l.src="img/blue.mp3",document.body.appendChild(l);var f=new AudioContext,d=f.createAnalyser();d.fftSize=128;var y=new Uint8Array(d.frequencyBinCount);window.onload=function(){f.createMediaElementSource(l).connect(d),d.connect(f.destination)};var v=1200,m=600,x=60,p=30,w=!1,g=v/x,M=m/p,b=[],k={width:v,height:m,gwidth:g,gheight:M,rows:p,cols:x},A=document.createElement("canvas"),E=A.getContext("2d");A.width=v,A.height=m,document.body.appendChild(A),E.font="10px Arial";var P=document.getElementById("sky"),_=document.getElementById("swallow"),j=r(x,p);document.getElementById("debug").addEventListener("click",function(){w=!w});for(var C=0;C<7;C++)b.push(new c.default(Math.random()*v,Math.random()*m));var I=0;a()},function(t,e,n){"use strict";n(0)},function(t,e,n){"use strict";function i(t,e,n){for(var i=new Array(512),h=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],u=0;u<256;u++)i[256+u]=i[u]=h[u];var c=255&Math.floor(t),l=255&Math.floor(e),f=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var d=r(t),y=r(e),v=r(n),m=i[c]+l,x=i[m]+f,p=i[m+1]+f,w=i[c+1]+l,g=i[w]+f,M=i[w+1]+f;return s(o(v,o(y,o(d,a(i[x],t,e,n),a(i[g],t-1,e,n)),o(d,a(i[p],t,e-1,n),a(i[M],t-1,e-1,n))),o(y,o(d,a(i[x+1],t,e,n-1),a(i[g+1],t-1,e,n-1)),o(d,a(i[p+1],t,e-1,n-1),a(i[M+1],t-1,e-1,n-1)))))}function r(t){return t*t*t*(t*(6*t-15)+10)}function o(t,e,n){return e+t*(n-e)}function a(t,e,n,i){var r=15&t,o=r<8?e:n,a=r<4?n:12===r||14===r?e:i;return(0==(1&r)?o:-o)+(0==(2&r)?a:-a)}function s(t){return(1+t)/2}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e,n,r,o){i(this,t),this.x=e,this.y=n,this.vx=r||0,this.vy=o||0,this.ax=0,this.ay=0,this.oldx=0,this.oldy=0,this.friction=.3+.5*Math.random(),this.scale=1-.5*Math.random()}return r(t,[{key:"wind",value:function(t,e){var n=Math.floor(this.x/e.gwidth),i=Math.floor(this.y/e.gheight);n===e.cols&&(n=e.cols-1),i===e.rows&&(i=e.rows-1),console.log(n,i),this.ax=.03*t[n][i][0],this.ay=.03*t[n][i][1]}},{key:"clamp",value:function(t,e,n){return Math.max(e,Math.min(n,t))}},{key:"move",value:function(t){this.oldx=this.x,this.oldy=this.y,this.vx+=this.ax,this.vy+=this.ay,this.x+=this.vx,this.y+=this.vy,this.ax=0,this.ay=0,this.x>t.width&&(this.x=0),this.x<0&&(this.x=t.width),this.y>t.height&&(this.y=0),this.y<0&&(this.y=t.height),this.vx=this.clamp(this.vx,-4,4),this.vy=this.clamp(this.vy,-4,4),this.vx*=this.friction,this.vy*=this.friction}},{key:"draw",value:function(t,e){t.save(),t.translate(this.x,this.y);var n=Math.atan2(this.y-this.oldy,this.x-this.oldx);t.rotate(n),t.translate(-7,-7),t.drawImage(e,0,0,12*this.scale,12*this.scale),t.restore()}}]),t}();e.default=o}]);